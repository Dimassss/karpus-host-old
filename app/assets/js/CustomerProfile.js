function run(){var e=new EventHandler,t=new CustomerProfileController,r=()=>{e.bind("table#customer_orders tbody tr","dblclick",t.selectRecord,["orders"]),e.bind("table#customer_orders tbody tr","click",t.selectRecord,["customer_orders"])},d=()=>e.bind("table#customers tbody tr","click",t.selectRecord,["customers",r]);function o(e){return document.querySelector(e)}t.addCustomersToTable(void 0,d),t.addOrdersToTable(void 0,r),e.bind("table#customers tbody","scroll",e=>{let r=o("table#customers tbody");r.scrollHeight-r.scrollTop<400&&t.addCustomersToTable(e,d)}),e.bind("table#orders tbody","scroll",e=>{let d=o("table#orders tbody");d.scrollHeight-d.scrollTop<400&&t.addOrdersToTable(e,r)}),d(),e.bind("body > header div.drop a:nth-child(1)","click",t.createCustomer),e.bind("body > header div.drop a:nth-child(2)","click",t.deleteCustomer),e.bind("body > header div.drop a:nth-child(3)","click",t.deleteOrder),e.bind("section.alert-window navbar label:nth-child(1)","click",t.saveOrder,[r]),e.bind("section.alert-window #js-cycle","change",t.displayKitsOnCycleSelect),e.bind("input[name=js-customer-nav-table-search]","change",e=>{t.searchCustomers(e,d)}),e.bind("input[name=js-cutomer-order-table-search]","change",e=>{t.seachOrders(e,r)}),e.bind('label[for="open-alert-window"][name=create_order]',"click",t.createOrder),e.bind(".windows .window .form-input:not(.js-isArray)","change",e=>t.saveCustomer(e,d)),e.bind(".windows .window .form-group .input-group span.btn.input-group-btn","click",e=>{t.addToArray(e),t.saveCustomer(e,d)}),e.bind("section.alert-window .form-group .input-group span.btn.input-group-btn","click",t.addToArray),e.watch("body > main section.tabs-container > div.windows > div:nth-child(2)",{childList:!0,attributes:!1,subtree:!0,characterData:!1,characterDataOldValue:!1},e=>{0==(e=e[0]).addedNodes.length&&e.removedNodes[0]&&"chip "==e.removedNodes[0].className&&t.saveCustomer(null,d)}),e.watch("section.alert-window div.kits",{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!1},r=>{r.filter(e=>!("attributes"==e.type&&"class"==e.attributeName)).length>0&&e.bind("section.alert-window div.kits .kit input, section.alert-window div.kits .kit select","change",t.updateOrderForm)}),t.fillDatabase()}window.onload=()=>setTimeout(run,10);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkN1c3RvbWVyUHJvZmlsZS5qcyJdLCJuYW1lcyI6WyJydW4iLCJlIiwiRXZlbnRIYW5kbGVyIiwiYyIsIkN1c3RvbWVyUHJvZmlsZUNvbnRyb2xsZXIiLCJ0ckJpbmRPcmRlcnMiLCJiaW5kIiwic2VsZWN0UmVjb3JkIiwidHJCaW5kQ3VzdG9tZXJzIiwicSIsInMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRDdXN0b21lcnNUb1RhYmxlIiwidW5kZWZpbmVkIiwiYWRkT3JkZXJzVG9UYWJsZSIsInRibCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFRvcCIsImNyZWF0ZUN1c3RvbWVyIiwiZGVsZXRlQ3VzdG9tZXIiLCJkZWxldGVPcmRlciIsInNhdmVPcmRlciIsImRpc3BsYXlLaXRzT25DeWNsZVNlbGVjdCIsInNlYXJjaEN1c3RvbWVycyIsInNlYWNoT3JkZXJzIiwiY3JlYXRlT3JkZXIiLCJzYXZlQ3VzdG9tZXIiLCJhZGRUb0FycmF5Iiwid2F0Y2giLCJjaGlsZExpc3QiLCJhdHRyaWJ1dGVzIiwic3VidHJlZSIsImNoYXJhY3RlckRhdGEiLCJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiLCJkYXRhIiwiYWRkZWROb2RlcyIsImxlbmd0aCIsInJlbW92ZWROb2RlcyIsImNsYXNzTmFtZSIsImZpbHRlciIsImQiLCJ0eXBlIiwiYXR0cmlidXRlTmFtZSIsInVwZGF0ZU9yZGVyRm9ybSIsImZpbGxEYXRhYmFzZSIsIndpbmRvdyIsIm9ubG9hZCIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLE1BQ1AsSUFBSUMsRUFBSSxJQUFJQyxhQUNSQyxFQUFJLElBQUlDLDBCQUNSQyxFQUFlLEtBQ2pCSixFQUFFSyxLQUFLLGlDQUFrQyxXQUFZSCxFQUFFSSxhQUFjLENBQUMsV0FDdEVOLEVBQUVLLEtBQUssaUNBQWtDLFFBQVNILEVBQUVJLGFBQWMsQ0FBQyxxQkFFakVDLEVBQWtCLElBQU1QLEVBQUVLLEtBQUssMkJBQTRCLFFBQVNILEVBQUVJLGFBQWMsQ0FBQyxZQUFhRixJQXlDdEcsU0FBU0ksRUFBRUMsR0FDVCxPQUFPQyxTQUFTQyxjQUFjRixHQXhDaENQLEVBQUVVLHlCQUFvQkMsRUFBV04sR0FDakNMLEVBQUVZLHNCQUFpQkQsRUFBV1QsR0FFOUJKLEVBQUVLLEtBQUssd0JBQXlCLFNBQVdMLElBQ3pDLElBQUllLEVBQU1QLEVBQUUseUJBQ0hPLEVBQUlDLGFBQWVELEVBQUlFLFVBQ3hCLEtBQUtmLEVBQUVVLG9CQUFvQlosRUFBR08sS0FFeENQLEVBQUVLLEtBQUsscUJBQXNCLFNBQVdMLElBQ3RDLElBQUllLEVBQU1QLEVBQUUsc0JBQ0hPLEVBQUlDLGFBQWVELEVBQUlFLFVBQ3hCLEtBQUtmLEVBQUVZLGlCQUFpQmQsRUFBR0ksS0FFckNHLElBQ0FQLEVBQUVLLEtBQUssd0NBQXlDLFFBQVNILEVBQUVnQixnQkFDM0RsQixFQUFFSyxLQUFLLHdDQUF5QyxRQUFTSCxFQUFFaUIsZ0JBQzNEbkIsRUFBRUssS0FBSyx3Q0FBeUMsUUFBU0gsRUFBRWtCLGFBQzNEcEIsRUFBRUssS0FBSyxpREFBa0QsUUFBU0gsRUFBRW1CLFVBQVcsQ0FBQ2pCLElBQ2hGSixFQUFFSyxLQUFLLGlDQUFrQyxTQUFVSCxFQUFFb0IsMEJBQ3JEdEIsRUFBRUssS0FBSywyQ0FBNEMsU0FBVUwsSUFBTUUsRUFBRXFCLGdCQUFnQnZCLEVBQUdPLEtBQ3hGUCxFQUFFSyxLQUFLLDRDQUE2QyxTQUFVTCxJQUFNRSxFQUFFc0IsWUFBWXhCLEVBQUdJLEtBQ3JGSixFQUFFSyxLQUFLLG9EQUFxRCxRQUFTSCxFQUFFdUIsYUFDdkV6QixFQUFFSyxLQUFLLGdEQUFpRCxTQUFVTCxHQUFLRSxFQUFFd0IsYUFBYTFCLEVBQUdPLElBQ3pGUCxFQUFFSyxLQUFLLHFFQUFzRSxRQUFTTCxJQUFNRSxFQUFFeUIsV0FBVzNCLEdBQUlFLEVBQUV3QixhQUFhMUIsRUFBR08sS0FDL0hQLEVBQUVLLEtBQUsseUVBQTBFLFFBQVNILEVBQUV5QixZQUU1RjNCLEVBQUU0QixNQUFNLHNFQUF1RSxDQUFDQyxXQUFXLEVBQU1DLFlBQVcsRUFBT0MsU0FBUSxFQUFNQyxlQUFjLEVBQU9DLHVCQUF1QixHQUFRQyxJQUV0SixJQUQ3QkEsRUFBT0EsRUFBSyxJQUNKQyxXQUFXQyxRQUFlRixFQUFLRyxhQUFhLElBQXdDLFNBQWxDSCxFQUFLRyxhQUFhLEdBQUdDLFdBQzdFcEMsRUFBRXdCLGFBQWEsS0FBTW5CLEtBSXpCUCxFQUFFNEIsTUFBTSxnQ0FBaUMsQ0FBQ0MsV0FBVyxFQUFNQyxZQUFXLEVBQU1DLFNBQVEsRUFBTUMsZUFBYyxFQUFNQyx1QkFBdUIsR0FBUUMsSUFDeElBLEVBQUtLLE9BQU9DLEtBQWlCLGNBQVZBLEVBQUVDLE1BQTJDLFNBQW5CRCxFQUFFRSxnQkFBMkJOLE9BQVMsR0FDcEZwQyxFQUFFSyxLQUFLLHNGQUF1RixTQUFVSCxFQUFFeUMsbUJBUzlHekMsRUFBRTBDLGVBdERKQyxPQUFPQyxPQUFTLElBQU1DLFdBQVdoRCxJQUFLIiwiZmlsZSI6IkN1c3RvbWVyUHJvZmlsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiBzZXRUaW1lb3V0KHJ1biwgMTApO1xyXG5mdW5jdGlvbiBydW4oKXtcclxuICB2YXIgZSA9IG5ldyBFdmVudEhhbmRsZXIoKTtcclxuICB2YXIgYyA9IG5ldyBDdXN0b21lclByb2ZpbGVDb250cm9sbGVyKCk7XHJcbiAgdmFyIHRyQmluZE9yZGVycyA9ICgpID0+IHtcclxuICAgIGUuYmluZChcInRhYmxlI2N1c3RvbWVyX29yZGVycyB0Ym9keSB0clwiLCBcImRibGNsaWNrXCIsIGMuc2VsZWN0UmVjb3JkLCBbXCJvcmRlcnNcIl0pO1xyXG4gICAgZS5iaW5kKFwidGFibGUjY3VzdG9tZXJfb3JkZXJzIHRib2R5IHRyXCIsIFwiY2xpY2tcIiwgYy5zZWxlY3RSZWNvcmQsIFtcImN1c3RvbWVyX29yZGVyc1wiXSk7XHJcbiAgfTtcclxuICB2YXIgdHJCaW5kQ3VzdG9tZXJzID0gKCkgPT4gZS5iaW5kKFwidGFibGUjY3VzdG9tZXJzIHRib2R5IHRyXCIsIFwiY2xpY2tcIiwgYy5zZWxlY3RSZWNvcmQsIFtcImN1c3RvbWVyc1wiLCB0ckJpbmRPcmRlcnNdKTtcclxuXHJcbiAgYy5hZGRDdXN0b21lcnNUb1RhYmxlKHVuZGVmaW5lZCwgdHJCaW5kQ3VzdG9tZXJzKTtcclxuICBjLmFkZE9yZGVyc1RvVGFibGUodW5kZWZpbmVkLCB0ckJpbmRPcmRlcnMpO1xyXG5cclxuICBlLmJpbmQoXCJ0YWJsZSNjdXN0b21lcnMgdGJvZHlcIiwgXCJzY3JvbGxcIiwgKGUpID0+IHtcclxuICAgIGxldCB0YmwgPSBxKFwidGFibGUjY3VzdG9tZXJzIHRib2R5XCIpO1xyXG4gICAgbGV0IGRIID0gdGJsLnNjcm9sbEhlaWdodCAtIHRibC5zY3JvbGxUb3A7XHJcbiAgICBpZihkSCA8IDQwMCkgYy5hZGRDdXN0b21lcnNUb1RhYmxlKGUsIHRyQmluZEN1c3RvbWVycyk7XHJcbiAgfSk7XHJcbiAgZS5iaW5kKFwidGFibGUjb3JkZXJzIHRib2R5XCIsIFwic2Nyb2xsXCIsIChlKSA9PiB7XHJcbiAgICBsZXQgdGJsID0gcShcInRhYmxlI29yZGVycyB0Ym9keVwiKTtcclxuICAgIGxldCBkSCA9IHRibC5zY3JvbGxIZWlnaHQgLSB0Ymwuc2Nyb2xsVG9wO1xyXG4gICAgaWYoZEggPCA0MDApIGMuYWRkT3JkZXJzVG9UYWJsZShlLCB0ckJpbmRPcmRlcnMpO1xyXG4gIH0pO1xyXG4gIHRyQmluZEN1c3RvbWVycygpO1xyXG4gIGUuYmluZChcImJvZHkgPiBoZWFkZXIgZGl2LmRyb3AgYTpudGgtY2hpbGQoMSlcIiwgXCJjbGlja1wiLCBjLmNyZWF0ZUN1c3RvbWVyKTtcclxuICBlLmJpbmQoXCJib2R5ID4gaGVhZGVyIGRpdi5kcm9wIGE6bnRoLWNoaWxkKDIpXCIsIFwiY2xpY2tcIiwgYy5kZWxldGVDdXN0b21lcik7XHJcbiAgZS5iaW5kKFwiYm9keSA+IGhlYWRlciBkaXYuZHJvcCBhOm50aC1jaGlsZCgzKVwiLCBcImNsaWNrXCIsIGMuZGVsZXRlT3JkZXIpO1xyXG4gIGUuYmluZChcInNlY3Rpb24uYWxlcnQtd2luZG93IG5hdmJhciBsYWJlbDpudGgtY2hpbGQoMSlcIiwgXCJjbGlja1wiLCBjLnNhdmVPcmRlciwgW3RyQmluZE9yZGVyc10pO1xyXG4gIGUuYmluZChcInNlY3Rpb24uYWxlcnQtd2luZG93ICNqcy1jeWNsZVwiLCBcImNoYW5nZVwiLCBjLmRpc3BsYXlLaXRzT25DeWNsZVNlbGVjdCk7XHJcbiAgZS5iaW5kKFwiaW5wdXRbbmFtZT1qcy1jdXN0b21lci1uYXYtdGFibGUtc2VhcmNoXVwiLCBcImNoYW5nZVwiLCBlID0+IHtjLnNlYXJjaEN1c3RvbWVycyhlLCB0ckJpbmRDdXN0b21lcnMpfSk7XHJcbiAgZS5iaW5kKFwiaW5wdXRbbmFtZT1qcy1jdXRvbWVyLW9yZGVyLXRhYmxlLXNlYXJjaF1cIiwgXCJjaGFuZ2VcIiwgZSA9PiB7Yy5zZWFjaE9yZGVycyhlLCB0ckJpbmRPcmRlcnMpfSk7XHJcbiAgZS5iaW5kKCdsYWJlbFtmb3I9XCJvcGVuLWFsZXJ0LXdpbmRvd1wiXVtuYW1lPWNyZWF0ZV9vcmRlcl0nLCBcImNsaWNrXCIsIGMuY3JlYXRlT3JkZXIpO1xyXG4gIGUuYmluZCgnLndpbmRvd3MgLndpbmRvdyAuZm9ybS1pbnB1dDpub3QoLmpzLWlzQXJyYXkpJywgXCJjaGFuZ2VcIiwgZSA9PiBjLnNhdmVDdXN0b21lcihlLCB0ckJpbmRDdXN0b21lcnMpKTtcclxuICBlLmJpbmQoJy53aW5kb3dzIC53aW5kb3cgLmZvcm0tZ3JvdXAgLmlucHV0LWdyb3VwIHNwYW4uYnRuLmlucHV0LWdyb3VwLWJ0bicsIFwiY2xpY2tcIiwgZSA9PiB7Yy5hZGRUb0FycmF5KGUpOyBjLnNhdmVDdXN0b21lcihlLCB0ckJpbmRDdXN0b21lcnMpfSk7XHJcbiAgZS5iaW5kKCdzZWN0aW9uLmFsZXJ0LXdpbmRvdyAuZm9ybS1ncm91cCAuaW5wdXQtZ3JvdXAgc3Bhbi5idG4uaW5wdXQtZ3JvdXAtYnRuJywgXCJjbGlja1wiLCBjLmFkZFRvQXJyYXkpO1xyXG5cclxuICBlLndhdGNoKFwiYm9keSA+IG1haW4gc2VjdGlvbi50YWJzLWNvbnRhaW5lciA+IGRpdi53aW5kb3dzID4gZGl2Om50aC1jaGlsZCgyKVwiLCB7Y2hpbGRMaXN0OiB0cnVlLCBhdHRyaWJ1dGVzOmZhbHNlLCBzdWJ0cmVlOnRydWUsIGNoYXJhY3RlckRhdGE6ZmFsc2UsIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogZmFsc2V9LCBkYXRhID0+IHtcclxuICAgIGRhdGEgPSBkYXRhWzBdO1xyXG4gICAgaWYoZGF0YS5hZGRlZE5vZGVzLmxlbmd0aCA9PSAwICYmIGRhdGEucmVtb3ZlZE5vZGVzWzBdICYmIGRhdGEucmVtb3ZlZE5vZGVzWzBdLmNsYXNzTmFtZSA9PSBcImNoaXAgXCIpe1xyXG4gICAgICBjLnNhdmVDdXN0b21lcihudWxsLCB0ckJpbmRDdXN0b21lcnMpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBlLndhdGNoKFwic2VjdGlvbi5hbGVydC13aW5kb3cgZGl2LmtpdHNcIiwge2NoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczp0cnVlLCBzdWJ0cmVlOnRydWUsIGNoYXJhY3RlckRhdGE6dHJ1ZSwgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiBmYWxzZX0sIGRhdGEgPT4ge1xyXG4gICAgaWYoZGF0YS5maWx0ZXIoZCA9PiAhKGQudHlwZSA9PSBcImF0dHJpYnV0ZXNcIiAmJiBkLmF0dHJpYnV0ZU5hbWUgPT0gXCJjbGFzc1wiKSkubGVuZ3RoID4gMCl7XHJcbiAgICAgIGUuYmluZChcInNlY3Rpb24uYWxlcnQtd2luZG93IGRpdi5raXRzIC5raXQgaW5wdXQsIHNlY3Rpb24uYWxlcnQtd2luZG93IGRpdi5raXRzIC5raXQgc2VsZWN0XCIsIFwiY2hhbmdlXCIsIGMudXBkYXRlT3JkZXJGb3JtKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gcShzKXtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHMpO1xyXG4gIH1cclxuXHJcbiAgLy9zdHJpbmcgdG8gZGVsZXRlOlxyXG4gIGMuZmlsbERhdGFiYXNlKCk7XHJcbn1cclxuIl19
